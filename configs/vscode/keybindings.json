[
  {
    "key": "shift+ctrl+e",
    "command": "actions.findWithSelection"
  },
  {
    "key": "ctrl+e",
    "command": "-actions.findWithSelection"
  },
  {
    "key": "ctrl+e",
    "command": "workbench.view.explorer"
  },
  {
    "key": "shift+ctrl+e",
    "command": "-workbench.view.explorer"
  },
  {
    "key": "r",
    "command": "renameFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "ctrl+x",
    "command": "workbench.action.closeActiveEditor",
    "when": "editorTextFocus && vim.mode == 'Normal'"
  },
  {
    "key": "ctrl+x",
    "command": "workbench.action.closePanel",
    "when": "panelFocus"
  },
  {
    "key": "ctrl+x",
    "command": "workbench.action.closeSidebar",
    "when": "sideBarFocus"
  },
  // Close in webviews / extension editors (readme, settings UI, custom editors)
  {
    "key": "ctrl+x",
    "command": "workbench.action.closeActiveEditor",
    "when": "webviewFocus || inWebviewEditor || inSettingsEditor || markdownPreviewFocus || notebookEditorFocused || activeEditor == 'workbench.editor.extension'"
  },

  // Close Quick Pick / Command Palette
  {
    "key": "ctrl+x",
    "command": "workbench.action.closeQuickOpen",
    "when": "quickInputVisible"
  },

  // Close Panel (Problems/Output/Debug/Terminal panel)
  {
    "key": "ctrl+x",
    "command": "workbench.action.closePanel",
    "when": "panelFocus"
  },

  // Close Sidebar (Explorer/SCM/Extensions)
  {
    "key": "ctrl+x",
    "command": "workbench.action.closeSidebar",
    "when": "sideBarFocus"
  },
  {
    "key": "enter",
    "command": "-renameFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "j",
    "command": "list.focusDown",
    "when": "listFocus && explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "k",
    "command": "list.focusUp",
    "when": "listFocus && explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "ctrl+j",
    "command": "selectNextSuggestion",
    "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
  },
  {
    "key": "ctrl+k",
    "command": "selectPrevSuggestion",
    "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
  },
  {
    "key": "ctrl+j",
    "command": "selectNextCodeAction",
    "when": "codeActionMenuVisible"
  },
  {
    "key": "ctrl+k",
    "command": "selectPrevCodeAction",
    "when": "codeActionMenuVisible"
  },
  {
    "key": "ctrl+n",
    "command": "selectNextSuggestion",
    "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
  },
  {
    "key": "ctrl+p",
    "command": "selectPrevSuggestion",
    "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.quickOpenSelectNext",
    "when": "inQuickOpen"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.quickOpenSelectPrevious",
    "when": "inQuickOpen"
  },
  {
    "key": "tab",
    "command": "selectNextSuggestion",
    "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
  },
  {
    "key": "tab",
    "command": "workbench.action.quickOpenNavigateNext",
    "when": "inQuickOpen"
  },
  {
    "key": "shift+tab",
    "command": "selectPrevSuggestion",
    "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
  },
  {
    "key": "shift+tab",
    "command": "workbench.action.quickOpenNavigatePrevious",
    "when": "inQuickOpen"
  },
  {
    "key": "enter",
    "command": "list.select",
    "when": "explorerViewletVisible && filesExplorerFocus"
  },
  {
    "key": "l",
    "command": "list.select",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "o",
    "command": "list.toggleExpand",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "h",
    "command": "list.collapse",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "a",
    "command": "explorer.newFile",
    "when": "filesExplorerFocus && !inputFocus"
  },
  {
    "key": "shift+a",
    "command": "explorer.newFolder",
    "when": "filesExplorerFocus && !inputFocus"
  },
  {
    "key": "shift+;",
    "command": "insertPrevSuggestion",
    "when": "hasOtherSuggestions && textInputFocus && textInputFocus && !inSnippetMode && !suggestWidgetVisible && config.editor.tabCompletion == 'on'"
  },
  // {
  //   "key": "ctrl+l",
  //   "when": "sideBarFocus",
  //   "command": "workbench.action.focusActiveEditorGroup"
  // },
  {
    "key": "ctrl+k",
    "command": "workbench.action.focusActiveEditorGroup",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+shift+t",
    "command": "workbench.action.terminal.focus",
    "when": "!terminalFocus"
  },
  {
    "key": "ctrl+j",
    "command": "-editor.action.insertLineAfter",
    "when": "editorTextFocus && vim.useCtrlKeys && !vim.recording && vim.mode == 'Insert'"
  },
  {
    "key": "alt+j",
    "command": "workbench.action.terminal.focus",
    "when": "!terminalFocus"
  },
  {
    "key": "ctrl+shift+t",
    "command": "workbench.action.togglePanel"
  },
  {
    "key": "shift+tab",
    "command": "-acceptAlternativeSelectedSuggestion",
    "when": "suggestWidgetVisible && textInputFocus && textInputFocus"
  },
  // {
  //   "key": "ctrl+p",
  //   "command": "workbench.action.navigateLast"
  // },
  {
    "key": "ctrl+-",
    "command": "-workbench.action.navigateBack",
    "when": "canNavigateBack"
  },
  {
    "key": "ctrl+u",
    "command": "editor.action.pageUpHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "ctrl+d",
    "command": "editor.action.pageDownHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "k",
    "command": "editor.action.scrollUpHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "j",
    "command": "editor.action.scrollDownHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "shift+k",
    "command": "editor.action.showHover",
    "when": "editorTextFocus && vim.active && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+j",
    "command": "search.action.focusSearchList",
    "when": "searchViewletVisible"
  },
  {
    "key": "ctrl+k",
    "name": "Focus Search Input Box",
    "type": "command",
    "command": "workbench.action.findInFiles",
    "when": "inSearchEditor || searchViewletFocus"
  },
  {
    "key": "enter",
    "name": "Focus Search Results List",
    "type": "command",
    "command": "search.action.focusSearchList",
    "when": "searchInputBoxFocus && searchViewletVisible"
  },
  {
    "key": "enter",
    "name": "Focus Search Results List",
    "type": "command",
    "command": "search.action.focusSearchList",
    "when": "inSearchEditor && inputBoxFocus"
  },
  {
    "key": "ctrl+n",
    "command": "search.action.focusNextSearchResult",
    "when": "hasSearchResult || inSearchEditor"
  },
  {
    "key": "ctrl+p",
    "command": "search.action.focusPreviousSearchResult",
    "when": "hasSearchResult || inSearchEditor"
  },
  {
    "key": "ctrl+h",
    "command": "workbench.action.navigateLeft",
    "when": "editorFocus && vim.mode != 'Insert' && (panelVisible && panelPosition == left))"
  },
  {
    "key": "ctrl+h",
    "command": "workbench.action.focusSideBar",
    "when": "editorFocus && sideBarVisible"
  },
  {
    "key": "ctrl+l",
    "command": "workbench.action.navigateRight",
    "when": "!terminalFocus && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+l",
    "command": "workbench.action.focusActiveEditorGroup",
    "when": "(sideBarFocus || explorerViewletVisible || searchViewletVisible || searchInputBoxFocus || inSearchEditor) && !terminalFocus"
  },
  {
    "key": "ctrl+l",
    "command": "workbench.action.focusAuxiliaryBar",
    "when": "editorFocus && auxiliaryBarVisible && !terminalFocus"
  },
  // {
  //   "key": "ctrl+l",
  //   "command": "workbench.action.focusActiveEditorGroup",
  //   "when": "auxiliaryBarFocus"
  // },
  {
    "key": "alt+h",
    "command": "workbench.action.focusActiveEditorGroup",
    "when": "auxiliaryBarFocus || textInputFocus && auxiliaryBarVisible"
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.focusBelowGroup",
    "when": "editorTextFocus && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.focusAboveGroup",
    "when": "editorTextFocus && vim.mode != 'Insert'"
  },
  // {
  //   "key": "ctrl+j",
  //   "command": "workbench.action.navigateDown",
  //   "when": "editorTextFocus && vim.mode != 'Insert'"
  // },
  // {
  //   "key": "ctrl+k",
  //   "command": "workbench.action.navigateUp",
  //   "when": "editorTextFocus && vim.mode != 'Insert'"
  // },
  // {
  //   "key": "ctrl+h",
  //   "command": "workbench.action.navigateLeft",
  //   "when": "editorTextFocus && vim.mode != 'Insert'"
  // },
  // When copilot chat is in focus, ctrl+h should focus the editor
  // {
  //   "key": "ctrl+h",
  //   "command": "workbench.action.focusActiveEditorGroup",
  //   "when": "auxiliaryBarFocus"
  // },
  // {
  //   "key": "ctrl+l",
  //   "command": "workbench.action.navigateRight",
  //   "when": "editorTextFocus && vim.mode != 'Insert'"
  // },
  {
    "key": "h",
    "command": "editor.action.scrollLeftHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "j",
    "command": "editor.action.scrollDownHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "k",
    "command": "editor.action.scrollUpHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "l",
    "command": "editor.action.scrollRightHover",
    "when": "editorHoverFocused"
  },
  {
    "key": "a",
    "command": "explorer.newFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "f",
    "command": "explorer.newFolder",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "r",
    "command": "renameFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "x",
    "command": "filesExplorer.cut",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "y",
    "command": "filesExplorer.copy",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !inputFocus"
  },
  {
    "key": "p",
    "command": "filesExplorer.paste",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "d",
    "command": "deleteFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "/",
    "command": "list.find",
    "when": "listFocus && listSupportsFind && !inputFocus"
  },
  {
    "key": "ctrl+shift+h",
    "command": "workbench.action.moveEditorLeftInGroup"
  },
  {
    "key": "ctrl+shift+l",
    "command": "workbench.action.moveEditorRightInGroup"
  },
  // {
  //   "key": "ctrl+o",
  //   "command": "outline.focus"
  // },
  {
    "key": "shift+cmd",
    "command": "inlineChat.startWithCurrentLine",
    "when": "editorFocus && github.copilot.chat.editor.enableLineTrigger && inlineChatHasProvider && !editorReadonly && !inlineChatVisible"
  },
  {
    "key": "cmd+i",
    "command": "-inlineChat.startWithCurrentLine",
    "when": "editorFocus && github.copilot.chat.editor.enableLineTrigger && inlineChatHasProvider && !editorReadonly && !inlineChatVisible"
  },
  {
    "key": "shift+cmd+a",
    "command": "inlineChat.start",
    "when": "editorFocus && inlineChatHasProvider && inlineChatPossible && !editorReadonly"
  },
  {
    "key": "cmd+i",
    "command": "-inlineChat.start",
    "when": "editorFocus && inlineChatHasProvider && inlineChatPossible && !editorReadonly"
  },
  // Vim wrap lines as normal lines stuff
  // {
  //   "key": "up",
  //   "command": "cursorUp",
  //   "when": "editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetMultipleSuggestions && !suggestWidgetVisible"
  // },
  // {
  //   "key": "down",
  //   "command": "cursorDown",
  //   "when": "editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetMultipleSuggestions && !suggestWidgetVisible"
  // },
  // {
  //   "key": "k",
  //   "command": "cursorUp",
  //   "when": "editorTextFocus && vim.active && !inDebugRepl && vim.mode == 'Normal' && !suggestWidgetMultipleSuggestions && !suggestWidgetVisible"
  // },
  // {
  //   "key": "j",
  //   "command": "cursorDown",
  //   "when": "editorTextFocus && vim.active && !inDebugRepl && vim.mode == 'Normal' && !suggestWidgetMultipleSuggestions && !suggestWidgetVisible"
  // },
  // Toggle terminal
  {
    "key": "ctrl+/",
    "command": "workbench.action.togglePanel",
    "when": ""
  },
  // Move between tabs including extension stuff
  {
    "key": "shift+h",
    "command": "workbench.action.previousEditorInGroup",
    "when": "editorFocus && vim.mode == 'Normal' && !searchInputBoxFocus && !renameInputVisible"
  },
  {
    "key": "shift+l",
    "command": "workbench.action.nextEditorInGroup",
    "when": "editorFocus && vim.mode == 'Normal' && !searchInputBoxFocus && !renameInputVisible"
  },
  {
    "key": "shift+h",
    "command": "workbench.action.previousEditorInGroup",
    "when": "webviewFocus && !auxiliaryBarFocus && !inputFocus"
  },
  {
    "key": "shift+l",
    "command": "workbench.action.nextEditorInGroup",
    "when": "webviewFocus && !auxiliaryBarFocus && !inputFocus"
  },
  {
    "key": "ctrl+\\",
    "command": "workbench.action.togglePanel",
    "when": ""
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.terminal.focus",
    "when": "editorFocus && terminalIsOpen && panelVisible"
  },
  {
    "key": "shift+enter",
    "command": "workbench.action.terminal.sendSequence",
    "args": {
      "text": "\\\r\n"
    },
    "when": "terminalFocus"
  },

  // Ai chat stuff
  {
    "key": "cmd+shift+i",
    "command": "cursorai.action.generateInTerminal",
    "when": "terminalFocus && terminalHasBeenCreated || terminalFocus && terminalProcessSupported || terminalHasBeenCreated && terminalPromptBarVisible || terminalProcessSupported && terminalPromptBarVisible"
  },
  {
    "key": "cmd+k",
    "command": "-cursorai.action.generateInTerminal",
    "when": "terminalFocus && terminalHasBeenCreated || terminalFocus && terminalProcessSupported || terminalHasBeenCreated && terminalPromptBarVisible || terminalProcessSupported && terminalPromptBarVisible"
  }
  // {
  //   "key": "ctrl+a",
  //   "command": "editor.action.inlineSuggest.commit",
  //   "when": "vim.mode == 'Insert'"
  // }
  // {
  //   "key": "ctrl+l",
  //   "command": "-workbench.action.focusActiveEditorGroup",
  //   "when": "terminalFocus"
  // },
]
